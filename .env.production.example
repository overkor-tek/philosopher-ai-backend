# ================================================
# PRODUCTION ENVIRONMENT VARIABLES
# ================================================
# For Railway deployment - Add these in Railway Dashboard
# Settings â†’ Environment Variables
# ================================================

# ================================================
# REQUIRED VARIABLES (CRITICAL)
# ================================================

# Node Environment (ALWAYS 'production' for Railway)
NODE_ENV=production

# Server Port (Railway automatically assigns PORT, or use 3001)
PORT=3001

# PostgreSQL Database Connection
# Railway auto-provides this when you add PostgreSQL service
# Format: postgresql://user:password@host:port/database
DATABASE_URL=${{Postgres.DATABASE_URL}}

# JWT Secret for token signing (CRITICAL SECURITY)
# MUST be 32+ characters (recommend 64+ for production)
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# Example: a1b2c3d4e5f6....(64 character hex string)
JWT_SECRET=GENERATE_A_SECURE_64_CHARACTER_HEX_STRING_HERE

# ================================================
# CORS CONFIGURATION (CRITICAL)
# ================================================

# Allowed frontend origins (comma-separated, NO SPACES)
# Add your production domain(s) here
# Example: https://consciousnessrevolution.io,https://www.consciousnessrevolution.io
ALLOWED_ORIGINS=https://consciousnessrevolution.io,https://www.consciousnessrevolution.io

# ================================================
# OPTIONAL: STRIPE INTEGRATION
# ================================================

# Stripe Secret Key (for payment processing)
# Get from: https://dashboard.stripe.com/apikeys
# Use live keys (sk_live_...) for production
# STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key_here

# ================================================
# OPTIONAL: ANTHROPIC INTEGRATION
# ================================================

# Anthropic API Key (for Claude AI conversations)
# Get from: https://console.anthropic.com/
# ANTHROPIC_API_KEY=sk-ant-your_anthropic_api_key_here

# ================================================
# OPTIONAL: EMAIL INTEGRATION (SENDGRID)
# ================================================

# SendGrid API Key (for transactional emails)
# Get from: https://app.sendgrid.com/settings/api_keys
# SENDGRID_API_KEY=SG.your_sendgrid_api_key_here

# Email sender configuration
# FROM_EMAIL=noreply@consciousnessrevolution.io
# FROM_NAME=Consciousness Revolution
# FRONTEND_URL=https://consciousnessrevolution.io

# ================================================
# RAILWAY DEPLOYMENT NOTES
# ================================================

# How to set these in Railway:
# 1. Go to your Railway project dashboard
# 2. Select your backend service
# 3. Click "Variables" tab
# 4. Add each variable with its value
# 5. Railway auto-deploys when you save changes

# Railway Auto-Provides:
# - PORT (if not set, defaults to 3001)
# - DATABASE_URL (when PostgreSQL service is linked)
# - RAILWAY_ENVIRONMENT (automatically set to 'production')

# You Must Manually Set:
# - JWT_SECRET (CRITICAL - generate strong random value)
# - ALLOWED_ORIGINS (CRITICAL - your frontend domain(s))
# - STRIPE_SECRET_KEY (if using payments)
# - ANTHROPIC_API_KEY (if using AI features)
# - SENDGRID_API_KEY (if using emails)

# ================================================
# SECURITY CHECKLIST
# ================================================

# [ ] JWT_SECRET is set to a unique 64+ character hex string
# [ ] ALLOWED_ORIGINS contains ONLY your production domain(s)
# [ ] DATABASE_URL is set (Railway does this automatically)
# [ ] NODE_ENV is set to 'production'
# [ ] No secrets are hardcoded in source code
# [ ] .env files are NOT committed to git (.gitignore prevents this)
# [ ] All Stripe keys are LIVE keys (sk_live_...), not test keys
# [ ] HTTPS is enforced (Railway handles this automatically)

# ================================================
# QUICK START
# ================================================

# 1. Copy this file to .env (for local development):
#    cp .env.production.example .env

# 2. Fill in all REQUIRED variables

# 3. Generate JWT_SECRET:
#    node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

# 4. Test locally:
#    npm run dev:production

# 5. For Railway deployment:
#    - Add all variables in Railway Dashboard
#    - Railway auto-deploys on git push

# ================================================
# SUPPORT
# ================================================

# Railway Docs: https://docs.railway.app/
# Stripe API: https://stripe.com/docs/api
# Anthropic API: https://docs.anthropic.com/
# SendGrid API: https://docs.sendgrid.com/
